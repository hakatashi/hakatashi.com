<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>ぴょーぴょーぴょんぴょんぴょー　ぴょんぴょんぴょーぴょーぴょん　ぴょーぴょー　ぴょんぴょーぴょんぴょーぴょん　ぴょーぴょーぴょんぴょんぴょー　ぴょんぴょんぴょーぴょーぴょん　ぴょーぴょー　ぴょんぴょーぴょんぴょーぴょん　ぴょん　ぴょんぴょーぴょんぴょーぴょん　ぴょんぴょーぴょんぴょん　ぴょんぴょーぴょんぴょーぴょん　ぴょーぴょんぴょーぴょんぴょん</title>
		<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script>
		window.pyon = function (text) {
			var table = {
				'い': '・－',
				'の': '・・－－',
				'ろ': '・－・－',
				'お': '・－・・・',
				'は': '－・・・',
				'く': '・・・－',
				'に': '－・－・',
				'や': '・－－',
				'ほ': '－・・',
				'ま': '－・・－',
				'へ': '・',
				'け': '－・－－',
				'と': '・・－・・',
				'ふ': '－－・・',
				'ち': '・・－・',
				'こ': '－－－－',
				'り': '－－・',
				'え': '－・－－－',
				'ぬ': '・・・・',
				'て': '・－・－－',
				'る': '－・－－・',
				'あ': '－－・－－',
				'を': '・－－－',
				'さ': '－・－・－',
				'わ': '－・－',
				'き': '－・－・・',
				'か': '・－・・',
				'ゆ': '－・・－－',
				'よ': '－－',
				'め': '－・・・－',
				'た': '－・',
				'み': '・・－・－',
				'れ': '－－－',
				'し': '－－・－・',
				'そ': '－－－・',
				'ゑ': '・－－・・',
				'つ': '・－－・',
				'ひ': '－－・・－',
				'ね': '－－・－',
				'も': '－・・－・',
				'な': '・－・',
				'せ': '・－－－・',
				'ら': '・・・',
				'す': '－－－・－',
				'む': '－',
				'ん': '・－・－・',
				'う': '・・－',
				'゛': '・・',
				'ゐ': '・－・・－',
				'゜': '・・－－・',
				'!': '－・－・－－',
				'?': '・・－－・・',
				'(': '－・－－・－',
				')': '・－・・－・',
				'ー': '・－－・－',
				'、': '・－・－・－',
				'a': '・－',
				'b': '－・・・',
				'c': '－・－・',
				'd': '－・・',
				'e': '・',
				'f': '・・－・',
				'g': '－－・',
				'h': '・・・・',
				'i': '・・',
				'j': '・－－－',
				'k': '－・－',
				'l': '・－・・',
				'm': '－－',
				'n': '－・',
				'o': '－－－',
				'p': '・－－・',
				'q': '－－・－',
				'r': '・－・',
				's': '・・・',
				't': '－',
				'u': '・・－',
				'v': '・・・－',
				'w': '・－－',
				'x': '－・・－',
				'y': '－・－－',
				'z': '－－・・',
				'.': '・－・－・－',
				',': '－－・・－－',
				'-': '－・・・・－',
				'/': '－・・－・',
			};

			var sanitize = {
				'が': 'か゛',
				'ぎ': 'き゛',
				'ぐ': 'く゛',
				'げ': 'け゛',
				'ご': 'こ゛',
				'ざ': 'さ゛',
				'じ': 'し゛',
				'ず': 'す゛',
				'ぜ': 'せ゛',
				'ぞ': 'そ゛',
				'だ': 'た゛',
				'ぢ': 'ち゛',
				'づ': 'つ゛',
				'で': 'て゛',
				'ど': 'と゛',
				'ば': 'は゛',
				'び': 'ひ゛',
				'ぶ': 'ふ゛',
				'べ': 'へ゛',
				'ぼ': 'ほ゛',
				'ぱ': 'は゜',
				'ぴ': 'ひ゜',
				'ぷ': 'ふ゜',
				'ぺ': 'へ゜',
				'ぽ': 'ほ゜',
				'ゃ': 'や',
				'ゅ': 'ゆ',
				'ょ': 'よ',
				'っ': 'つ',
				'！': '!',
				'？': '?',
				'（': '(',
				'）': ')',
			};

			var result = '';
			var sanitized = '';

			text = text.replace(/\s/g, '').toLowerCase().replace(/([a-z0-9.,-/]+)/g, '\($1\)');

			text.split('').forEach(function (character) {
				if (sanitize[character]) sanitized += sanitize[character];
				else sanitized += character;
			});

			sanitized.split('').forEach(function (character) {
				if (table[character]) {
					var pyonString = table[character].replace(/・/g, 'ぴょん').replace(/－/g, 'ぴょー');
					result += pyonString + '　';
				}
			});

			return result.slice(0, -1);
		};

		$(document).ready(function () {
			$('#input').on('keyup keypress keydown change click contextmenu paste', function () {
				$('#output').val(pyon($('#input').val()));
			});
			$('#output').on('focus click', function () {
				$(this).select();
			});

			$('#input').focus();
		});
		</script>
	</head>
	<body>
		<div class="container">
			<h1>ぴょんぴょんコンバーター</h1>
			<form id="pyon" action="index.html" method="post">
				<div class="form-group">
					<label for="input">Input</label>
					<input type="text" class="form-control" id="input">
				</div>
				<div class="form-group">
					<label for="output">Output</label>
					<input type="text" class="form-control" id="output">
				</div>
			</form>
		</div>
	</body>
</html>
